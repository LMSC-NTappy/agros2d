<?xml version="1.0"?>
<module>
    <general id="electrostatic" name="Electrostatic field">
        <description>Electrostatics is the branch of science that deals with the phenomena and properties of stationary or slow-moving (without acceleration) electric charges.</description>
        <properties steadystate="1" harmonic="0" transient="1" />
    </general>

    <constants>
        <item id="EPS0" value="8.854e-12" />
    </constants>

    <material>
        <item id="electrostatic_permittivity" name="Permittivity" shortname="epsr" unit="F/m" default="1" />
        <item id="electrostatic_charge_density" name="Charge density" shortname="rho" unit="C/m3" />
        
        <steadystate>
            <material id="electrostatic_permittivity" />
            <material id="electrostatic_charge_density" />

            <matrix i="1" j="1" planar="0.0 * EPS0 * uval * (updx * vdx + updy * vdy) + epsr * EPS0 * (udx * vdx + udy * vdy)"
                                axi="0.0 * EPS0 * x * uval * (updx * vdx + updy * vdy) + epsr * EPS0 * x * (udx * vdx + udy * vdy)" symmetric="1" />
            <vector i="1" planar="epsr * EPS0 * (updx * vdx + updy * vdy) - rho * vval"
                          axi="epsr * EPS0 * x * (updx * vdx + updy * vdy) - rho * x * vval" />
         </steadystate>

         <transient>
             <material id="electrostatic_permittivity" />
             <material id="electrostatic_charge_density" />

             <matrix i="1" j="1" planar="0.0 * EPS0 * uval * (updx * vdx + updy * vdy) + epsr * EPS0 * (udx * vdx + udy * vdy) - uval * vval * 0.1"
                                 axi="0.0 * EPS0 * x * uval * (updx * vdx + updy * vdy) + epsr * EPS0 * x * (udx * vdx + udy * vdy)" symmetric="1" />
             <vector i="1" planar="epsr * EPS0 * (updx * vdx + updy * vdy) - rho * vval + upval * vval * 0.1"
                           axi="epsr * EPS0 * x * (updx * vdx + updy * vdy) - rho * x * vval" />
          </transient>
    </material>

    <boundary>
        <item id="electrostatic_potential" name="Fixed voltage" shortname="V" unit="V" />
        <item id="electrostatic_surface_charge_density" name="Surface charge density" shortname="sigma" unit="C/m2" />
    	
    	<steadystate>
            <boundary id="electrostatic_potential" name="Fixed voltage">
                <item id="electrostatic_potential" />

                <essential i="1" id="electrostatic_potential" />
            </boundary>

            <boundary id="electrostatic_surface_charge_density" name="Surface charge density">
                <item id="electrostatic_surface_charge_density" />

                <vector i="1" planar="sigma * vval" axi="sigma * x * vval" />
            </boundary>
        </steadystate>
    </boundary>
      
    <localvariable>
        <item id="electrostatic_potential" name="Scalar potential" shortname="V" unit="V" scalar="1">
            <steadystate planar_scalar="value1" axi_scalar="value1" />
        </item>
        <item id="electrostatic_electric_field" name="Electric field" shortname="E" unit="V/m" scalar="0">
            <steadystate planar_comp_x="- dx1" planar_comp_y="- dy1" axi_comp_r="- dx1" axi_comp_z="- dy1" />
        </item>
        <item id="electrostatic_displacement" name="Displacement" shortname="D" unit="C/m2" scalar="0">
            <steadystate planar_comp_x="- epsr * EPS0 * dx1" planar_comp_y="- epsr * EPS0 * dy1" axi_comp_r="- epsr * EPS0 * dx1" axi_comp_z="- epsr * EPS0 * dy1" />
        </item>
        <item id="electrostatic_energy_density" name="Energy density" shortname="we" unit="J/m3" scalar="1">
            <steadystate planar_scalar="0.5 * epsr * EPS0 * (dx1 * dx1 + dy1 * dy1)" axi_scalar="0.5 * epsr * EPS0 * (dx1 * dx1 + dy1 * dy1)" />
        </item>
        <item id="electrostatic_permittivity" name="Permittivity" shortname="epsr" unit="-" scalar="1">
            <steadystate planar_scalar="epsr" axi_scalar="epsr" />
        </item>
        <item id="electrostatic_charge_density" name="Charge density" shortname="rho" unit="C/m3" scalar="1">
            <steadystate planar_scalar="rho" axi_scalar="rho" />
        </item>
    </localvariable>

    <view>
        <scalarvariable>
            <steadystate default="electrostatic_potential">
                <item id="electrostatic_potential" />
                <item id="electrostatic_electric_field" />
                <item id="electrostatic_displacement" />
                <item id="electrostatic_energy_density" />
                <item id="electrostatic_permittivity" />
                <item id="electrostatic_charge_density" />
            </steadystate>
        </scalarvariable>

        <vectorvariable>
            <steadystate default="electrostatic_electric_field">
                <item id="electrostatic_electric_field" />
                <item id="electrostatic_displacement" />
            </steadystate>
        </vectorvariable>
    </view>

    <pointvalue>
        <steadystate>
            <item id="electrostatic_potential" />
            <item id="electrostatic_electric_field" />
            <item id="electrostatic_displacement" />
            <item id="electrostatic_energy_density" />
            <item id="electrostatic_permittivity" />
            <item id="electrostatic_charge_density" />
        </steadystate>
    </pointvalue>

    <volumeintegral>
        <item id="volume" name="Volume" shortname="V" unit="m3">
            <steadystate planar="1.0" axi="2.0 * PI * x" />
        </item>
        <item id="surface" name="Cross section" shortname="S" unit="m2">
            <steadystate planar="1.0" axi="1.0" />
        </item>
        <item id="electrostatic_energy" name="Energy" shortname="We" unit="J">
            <steadystate planar="0.5 * epsr * EPS0 * (dx1 * dx1 + dy1 * dy1)" axi="2.0 * PI * x * 0.5 * epsr * EPS0 * (dx1 * dx1 + dy1 * dy1)" />
        </item>
    </volumeintegral>

    <surfaceintegral>
        <item id="length" name="Length" shortname="l" unit="m">
            <steadystate planar="1.0" axi="1.0" />
        </item>
        <item id="surface" name="Surface" shortname="S" unit="m2">
            <steadystate planar="1.0" axi="2.0 * PI * x" />
        </item>
        <item id="electrostatic_charge" name="Charge" shortname="Q" unit="C">
            <steadystate planar="epsr * EPS0 * (tany * dx1 - tanx * dy1)" axi="2.0 * PI * x * epsr * EPS0 * (tany * dx1 - tanx * dy1)" />
        </item>
    </surfaceintegral>
</module>
