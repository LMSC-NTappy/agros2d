<?xml version="1.0"?>
<module>
    <general id="general" name="General">
        <description></description>
        <properties steadystate="1" harmonic="0" transient="0" />
    </general>

    <constants>
        <item id="ALPHA" value="0.031831" />
    </constants>

    <material>
    <item id="general_constant_1" name="Constant 1" shortname="c" unit="-" default="1" />
    <item id="general_constant_2" name="Constant 2" shortname="a" unit="-" default="1" />
    <item id="general_rightside" name="Right side" shortname="f" unit="-" />

        <steadystate>
        <material id="general_constant_1" />
        <material id="general_constant_2" />
        <material id="general_rightside" />

            <!--
            <matrix i="1" j="1" planar="c * (udx * vdx + udy * vdy) + a * uval * vval"
                                axi="c * r * (udr * vdr + udz * vdz) + a * r * uval * vval" symmetric="1" />
            <vector i="1" j="1" planar="c * (updx * vdx + updy * vdy) + a * upval * vval - f * vval"
                                axi="c * r * (updr * vdr + updz * vdz) + a * r * upval * vval - f * r * vval" />
            -->
            <matrix i="1" j="1" planar="(udx * vdx + udy * vdy) - 1/(ALPHA+sqrt(x^2+y^2))^4 * uval * vval"
                                axi="" symmetric="1" />
            <vector i="1" j="1" planar="(updx * vdx + updy * vdy) - 1/(ALPHA+sqrt(x^2+y^2))^4 * upval * vval
                                        - (sqrt(x^2+y^2)-ALPHA)/(sqrt(x^2+y^2)*(sqrt(x^2+y^2)+ALPHA)^3)*cos(1/(sqrt(x^2+y^2)+ALPHA)) * vval"
                                axi="" />
         </steadystate>
    </material>

    <boundary>
        <item id="general_essential" name="Essential" shortname="u" unit="-" />
        <item id="general_neumann" name="Neumann" shortname="n" unit="-" />
    	
        <steadystate>
            <boundary id="general_essential" name="Fixed voltage">
                <item id="general_essential" />

                <essential i="1" j="1" id="general_essential" />
            </boundary>

            <boundary id="general_neumann" name="Neumann">
                <item id="general_neumann" />

                <vector i="1" j="1" planar="n * vval" 
                                    axi="n * r * vval" />
            </boundary>
        </steadystate>
    </boundary>
      
    <localvariable>
        <item id="general_essential" name="Solution" shortname="u" unit="-" scalar="1">
            <steadystate planar_scalar="value1" axi_scalar="value1" />
        </item>
        <item id="general_grad" name="Gradient" shortname="g" unit="-" scalar="0">
            <steadystate planar_comp_x="dx1" planar_comp_y="dy1"
                         axi_comp_r="dr1" axi_comp_z="dz1" />
        </item>
    </localvariable>

    <view>
        <scalarvariable>
            <steadystate default="general_essential">
                <item id="general_essential" />
                <item id="general_grad" />
                <item id="general_constant_1" />
                <item id="general_rightside" />
            </steadystate>
        </scalarvariable>

        <vectorvariable>
            <steadystate default="general_grad">
               <item id="general_grad" />               
           </steadystate>
        </vectorvariable>
    </view>

    <pointvalue>
        <steadystate>
            <item id="general_essential" />
            <item id="general_grad" />
            <item id="general_constant_1" />
            <item id="general_rightside" />
        </steadystate>
    </pointvalue>

    <volumeintegral>
        <item id="volume" name="Volume" shortname="V" unit="m3">
            <steadystate planar="1.0" axi="2.0 * PI * r" />
        </item>
        <item id="surface" name="Cross section" shortname="S" unit="m2">
            <steadystate planar="1.0" axi="1.0" />
        </item>
    </volumeintegral>

    <surfaceintegral>
        <item id="length" name="Length" shortname="l" unit="m">
            <steadystate planar="1.0" axi="1.0" />
        </item>
        <item id="surface" name="Surface" shortname="S" unit="m2">
            <steadystate planar="1.0" axi="2.0 * PI * r" />
        </item>
    </surfaceintegral>
</module>
