<?xml version="1.0"?>
<module>
    <general id ="magnetic" name="Magnetic field">
        <description>Magnetic field ...</description>
        <properties steadystate="1" harmonic="1" transient="1" />    
    </general>
    
    <constants>
        <item id="MU0" value="1.2566371e-06" />
    </constants>    

    <localvariable>
        <item id="magnetic_potential_real" name="Vector potential - real" shortname="Ar" unit="Wb/m" scalar="1">
            <steadystate planar_scalar="value1" axi_scalar="value1" />
            <harmonic planar_scalar="value1" axi_scalar="value1" />
            <transient />
        </item>
        <item id="magnetic_potential_imag" name="Vector potential - imag" shortname="Ai" unit="Wb/m" scalar="1">
            <steadystate />
            <harmonic planar_scalar="value2" axi_scalar="value2" />
            <transient />
        </item>
        <item id="magnetic_flux_density_module" name="Flux density" shortname="B" unit="T" scalar="1">
            <steadystate />
            <harmonic planar_scalar="sqrt(dy1^2 + dx1^2 + dy2^2 + dx2^2)" axi_scalar="sqrt(dy1^2 + (dx1 + value1 / (x + 1e-12))^2 + dy2^2 + (dx2 + value2 / (x + 1e-12))^2)" />
            <transient />
        </item>        
        <item id="magnetic_flux_density_real" name="Flux density - real" shortname="Br" unit="T" scalar="0">
            <steadystate planar_comp_x="dy1" planar_comp_y="- dx1" axi_comp_r="- dy1" axi_comp_z="dx1 + value1 / (x + 1e-12)" />
            <harmonic planar_comp_x="dy1" planar_comp_y="- dx1" axi_comp_r="- dy1" axi_comp_z="dx1 + value1 / (x + 1e-12)" />
            <transient />
        </item>
        <item id="magnetic_flux_density_imag" name="Flux density - imag" shortname="Bi" unit="T" scalar="0">
            <steadystate />
            <harmonic planar_comp_x="dy2" planar_comp_y="- dx2" axi_comp_r="- dy2" axi_comp_z="dx2 + value2 / (x + 1e-12)" />
            <transient />
        </item>
        <item id="magnetic_magnetic_field_module" name="Magnetic field" shortname="H" unit="A/m" scalar="1">
            <steadystate />
            <harmonic planar_scalar="sqrt(dy1^2 + dx1^2 + dy2^2 + dx2^2) / (mur * MU0)" axi_scalar="sqrt(dy1^2 + (dx1 + value1 / (x + 1e-12))^2 + dy2^2 + (dx2 + value2 / (x + 1e-12))^2) / (mur * MU0)" />
            <transient />
        </item>                
        <item id="magnetic_magnetic_field_real" name="Magnetic field - real" shortname="Hr" unit="A/m" scalar="0">
            <steadystate planar_comp_x="dy1 / (mur * MU0)" planar_comp_y="- dx1 / (mur * MU0)" axi_comp_r="- dy1 / (mur * MU0)" axi_comp_z="(dx1 + value1 / (x + 1e-12)) / (mur * MU0)" />
            <harmonic planar_comp_x="dy1 / (mur * MU0)" planar_comp_y="- dx1 / (mur * MU0)" axi_comp_r="- dy1 / (mur * MU0)" axi_comp_z="(dx1 + value1 / (x + 1e-12)) / (mur * MU0)" />
            <transient />
        </item>
        <item id="magnetic_magnetic_field_imag" name="Magnetic field - imag" shortname="Hi" unit="A/m" scalar="0">
            <steadystate planar_comp_x="dy1 / (mur * MU0)" planar_comp_y="- dx1 / (mur * MU0)" axi_comp_r="- dy1 / (mur * MU0)" axi_comp_z="(dx1 + value1 / (x + 1e-12)) / (mur * MU0)" />
            <harmonic planar_comp_x="dy1 / (mur * MU0)" planar_comp_y="- dx1 / (mur * MU0)" axi_comp_r="- dy1 / (mur * MU0)" axi_comp_z="(dx1 + value1 / (x + 1e-12)) / (mur * MU0)" />
            <transient />
        </item>
        <item id="magnetic_energy_density" name="Energy density" shortname="we" unit="J/m3" scalar="1">
            <steadystate planar_scalar="(dy1^2 + dx1^2) / (mur * MU0)" axi_scalar="(dy1^2 + (dx1 + value1 / (x + 1e-12))^2) / (mur * MU0)" />
            <harmonic planar_scalar="(dy1^2 + dx1^2 + dy2^2 + dx2^2) / (mur * MU0)" axi_scalar="(dy1^2 + (dx1 + value1 / (x + 1e-12))^2 + dy2^2 + (dx2 + value2 / (x + 1e-12))^2) / (mur * MU0)" />
            <transient planar_scalar="(dy1^2 + dx1^2) / (mur * MU0)" axi_scalar="(dy1^2 + (dx1 + value1 / (x + 1e-12))^2) / (mur * MU0)" />
        </item>
        <item id="magnetic_permeability" name="Permeability" shortname="eps" unit="-" scalar="1">
            <steadystate planar_scalar="mur" axi_scalar="mur" />
            <harmonic planar_scalar="mur" axi_scalar="mur" />
            <transient planar_scalar="mur" axi_scalar="mur" />
        </item>
        <item id="magnetic_remanence" name="Remanent flux density" shortname="Brem" unit="T" scalar="0">
            <steadystate planar_comp_x="Brx" planar_comp_y="Bry" axi_comp_r="Brx" axi_comp_z="Bry" />
            <harmonic planar_comp_x="Brx" planar_comp_y="Bry" axi_comp_r="Brx" axi_comp_z="Bry" />
            <transient planar_comp_x="Brx" planar_comp_y="Bry" axi_comp_r="Brx" axi_comp_z="Bry" />
        </item>
        <item id="magnetic_velocity" name="Velocity" shortname="v" unit="m/s" scalar="0">
            <steadystate planar_comp_x="vx - va * y" planar_comp_y="vy + va * x" axi_comp_r="0" axi_comp_z="vy" />
            <harmonic planar_comp_x="vx - va * y" planar_comp_y="vy + va * x" axi_comp_r="0" axi_comp_z="vy" />
            <transient planar_comp_x="vx - va * y" planar_comp_y="vy + va * x" axi_comp_r="0" axi_comp_z="vy" />
        </item>        
        <item id="magnetic_current_denstity_external_real" name="Current dens. - ext. - real" shortname="Jer" unit="A/m2" scalar="1">
            <steadystate planar_scalar="Jer" axi_scalar="Jer" />
            <harmonic planar_scalar="Jer" axi_scalar="Jer" />
            <transient planar_scalar="Jer" axi_scalar="Jer" />
        </item>  
        <item id="magnetic_current_denstity_external_imag" name="Current dens. - ext. - imag" shortname="Jei" unit="A/m2" scalar="1">
            <steadystate />
            <harmonic planar_scalar="Jei" axi_scalar="Jei" />
            <transient />
        </item>  
    </localvariable>

    <view>
        <scalarvariable>
            <steadystate default="magnetic_flux_density_real">
                <item id="magnetic_potential_real" />
                <item id="magnetic_flux_density_real" />
                <item id="magnetic_magnetic_field_real" />
                <item id="magnetic_energy_density" /> 
                <item id="magnetic_remanence" />
                <item id="magnetic_velocity" />                
                <item id="magnetic_permeability" />
                <item id="magnetic_current_denstity_external_real" />
            </steadystate>
            <harmonic default="magnetic_flux_density_module">
                <item id="magnetic_potential_real" />
                <item id="magnetic_potential_imag" />
                <item id="magnetic_flux_density_module" />
                <item id="magnetic_flux_density_real" />
                <item id="magnetic_flux_density_imag" />
                <item id="magnetic_magnetic_field_module" />
                <item id="magnetic_magnetic_field_real" />
                <item id="magnetic_magnetic_field_imag" />
                <item id="magnetic_remanence" />
                <item id="magnetic_velocity" />                           
                <item id="magnetic_energy_density" />                
                <item id="magnetic_permeability" />
                <item id="magnetic_current_denstity_external_real" />
                <item id="magnetic_current_denstity_external_imag" />                
            </harmonic>
            <transient/>
        </scalarvariable>

        <vectorvariable>
            <steadystate default="magnetic_flux_density_real">
                <item id="magnetic_flux_density_real" />
                <item id="magnetic_magnetic_field" />
                <item id="magnetic_remanence" />                
                <item id="magnetic_velocity" />                           
            </steadystate>
            <harmonic default="magnetic_flux_density_real">
                <item id="magnetic_flux_density_real" />
                <item id="magnetic_magnetic_field" />
                <item id="magnetic_flux_density_imag" />
                <item id="magnetic_magnetic_imag" />
                <item id="magnetic_remanence" />          
                <item id="magnetic_velocity" />                                 
            </harmonic>
            <transient/>
        </vectorvariable>
    </view>
    
    <pointvalue>
        <steadystate>
            <item id="magnetic_potential_real" />
            <item id="magnetic_flux_density_real" />
            <item id="magnetic_magnetic_field_real" />
            <item id="magnetic_energy_density" />                
            <item id="magnetic_remanence" />            
            <item id="magnetic_velocity" />                       
            <item id="magnetic_permeability" />
            <item id="magnetic_current_denstity_external_real" />      
        </steadystate>
        <harmonic>
            <item id="magnetic_potential_real" />
            <item id="magnetic_potential_imag" />
            <item id="magnetic_flux_density_module" />
            <item id="magnetic_flux_density_real" />
            <item id="magnetic_flux_density_imag" />
            <item id="magnetic_magnetic_field_module" />
            <item id="magnetic_magnetic_field_real" />
            <item id="magnetic_magnetic_field_imag" />
            <item id="magnetic_energy_density" />                
            <item id="magnetic_remanence" />   
            <item id="magnetic_velocity" />                                            
            <item id="magnetic_permeability" />
            <item id="magnetic_current_denstity_external_real" />    
            <item id="magnetic_current_denstity_external_imag" />                
        </harmonic>
        <transient/>
    </pointvalue>  
    
    <volumeintegral>
        <item id="volume" name="Volume" shortname="V" unit="m3">
            <steadystate planar="1.0" axi="2.0 * PI * x" />
            <harmonic/>
            <transient/>
        </item>        
        <item id="surface" name="Cross section" shortname="S" unit="m2">
            <steadystate planar="1.0" axi="1.0" />
            <harmonic/>
            <transient/>
        </item>        
    </volumeintegral>    
    
    <surfaceintegral>
        <item id="length" name="Length" shortname="l" unit="m">
            <steadystate planar="1.0" axi="1.0" />
            <harmonic/>
            <transient/>
        </item>        
        <item id="surface" name="Surface" shortname="S" unit="m2">
            <steadystate planar="1.0" axi="2.0 * PI * x" />
            <harmonic/>
            <transient/>
        </item>
    </surfaceintegral> 
</module>
