<?xml version="1.0"?>
<coupling:coupling xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="XMLCoupling ../xsd/coupling_xml.xsd"
	xmlns:coupling="XMLCoupling">

	<coupling:general id="magnetic-heat" name="Joule losses">
		<coupling:description>Heat generated by Joule losses in magnetic field</coupling:description>
		<coupling:modules>
			<coupling:source id="magnetic" />
			<coupling:target id="heat" />
		</coupling:modules>
	</coupling:general>

	<coupling:constants>
		<coupling:constant id="MU0" value="1.2566371e-06" />
	</coupling:constants>

	<coupling:volume>
		<coupling:weakforms_volume>
			<coupling:weakform_volume couplingtype="weak" sourceanalysis="harmonic"
				targetanalysis="steadystate">
				<coupling:vector_form i="1" j="1"
                    planar_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (source0 * source0 + source1 * source1) * vval"
                    axi_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (source0 * source0 + source1 * source1) * r * vval"
 					planar_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (source0 * source0 + source1 * source1) * vval"
					axi_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (source0 * source0 + source1 * source1) * r * vval" />
			</coupling:weakform_volume>

			<coupling:weakform_volume couplingtype="hard" sourceanalysis="harmonic"
				targetanalysis="steadystate">
				<coupling:matrix_form i="3" j="1"
					planar_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (uval * uval) * vval"
					axi_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (uval * uval) * r * vval" 
					planar_newton="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (uval * uval) * vval"
					axi_newton="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (uval * uval) * r * vval" />
				<coupling:matrix_form i="3" j="2"
					planar_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (udx * udx + udy * udy) * vval"
					axi_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (udr * udr + udz * udz) * r * vval" 
					planar_newton="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (udx * udx + udy * udy) * vval"
					axi_newton="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (udr * udr + udz * udz) * r * vval" />
				<coupling:vector_form i="3" j="2"
					planar_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * vval"
					axi_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * r * vval" 
					planar_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * vval"
					axi_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * r * vval" />
				<coupling:vector_form i="3" j="1"
					planar_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * vval"
					axi_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * r * vval"
					planar_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * vval"
					axi_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * r * vval" />
			</coupling:weakform_volume>

			<coupling:weakform_volume couplingtype="weak" sourceanalysis="harmonic"
				targetanalysis="transient">
				<coupling:vector_form i="1" j="1"
					planar_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (source0 * source0 + source1 * source1) * vval"
					axi_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (source0 * source0 + source1 * source1) * r * vval" 
					planar_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (source0 * source0 + source1 * source1) * vval"
					axi_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (source0 * source0 + source1 * source1) * r * vval"/>
			</coupling:weakform_volume>

			<coupling:weakform_volume couplingtype="hard" sourceanalysis="harmonic"
				targetanalysis="transient">
				<coupling:matrix_form i="3" j="1"
					planar_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (uval * uval) * vval"
					axi_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (uval * uval) * r * vval" 
					planar_newton="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (uval * uval) * vval"
					axi_newton="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (uval * uval) * r * vval" />
				<coupling:matrix_form i="3" j="2"
					planar_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (udx * udx + udy * udy) * vval"
					axi_linear="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (udr * udr + udz * udz) * r * vval" 
					planar_newton="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (udx * udx + udy * udy) * vval"
					axi_newton="0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (udr * udr + udz * udz) * r * vval" />
				<coupling:vector_form i="3" j="2"
					planar_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * vval"
					axi_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * r * vval" 
					planar_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * vval"
					axi_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * r * vval" />
				<coupling:vector_form i="3" j="1"
					planar_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * vval"
					axi_linear="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * r * vval" 
					planar_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * vval"
					axi_newton="- 0.5 * ma_gamma * (2 * PI * f) * (2 * PI * f) * (upval * upval) * r * vval" />
			</coupling:weakform_volume>
		</coupling:weakforms_volume>
	</coupling:volume>
</coupling:coupling>
