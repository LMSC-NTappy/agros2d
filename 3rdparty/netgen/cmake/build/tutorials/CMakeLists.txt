# Setup the Sample files for the Netgen-mesher

# Get the actual path to the source directory
STRING (REGEX REPLACE "/cmake/build/" "/" CURRENT_SRC_PATH ${CMAKE_CURRENT_SOURCE_DIR})

# Get a list of all the files to be included	
FILE (GLOB INCLUDED_BASE_SAMPLES 
      "${CURRENT_SRC_PATH}/*.geo" 
      "${CURRENT_SRC_PATH}/*.in2d"
	  )

SET(INCLUDED_STL_SAMPLES
    ""
    )
	
SET(INCLUDED_OPENCASCADE_SAMPLES
    ""
    )
	
IF(${PROJECT_NAME}_ENABLE_STL_SUPPORT)
	FILE (GLOB INCLUDED_STL_SAMPLES
	      "${CURRENT_SRC_PATH}/*.stl"
		  "${CURRENT_SRC_PATH}/*.stlb"
          )		  
ENDIF(${PROJECT_NAME}_ENABLE_STL_SUPPORT)

IF(${PROJECT_NAME}_ENABLE_OPENCASCADE_SUPPORT AND OpenCASCADE_FOUND)
	FILE (GLOB INCLUDED_OPENCASCADE_SAMPLES
	      "${CURRENT_SRC_PATH}/*.stp"
		  "${CURRENT_SRC_PATH}/*.step"
		  "${CURRENT_SRC_PATH}/*.igs"
		  "${CURRENT_SRC_PATH}/*.iges"
		  "${CURRENT_SRC_PATH}/*.brep"
          )		
ENDIF(${PROJECT_NAME}_ENABLE_OPENCASCADE_SUPPORT AND OpenCASCADE_FOUND)
	  
SET (EXCLUDED_SAMPLES
     ""
	 )
LIST(LENGTH EXCLUDED_SAMPLES LENGTH_EXCLUDED)

SET(INCLUDED_SAMPLES ${INCLUDED_BASE_SAMPLES} ${INCLUDED_STL_SAMPLES} ${INCLUDED_OPENCASCADE_SAMPLES})

# Remove all the excluded files from the above generated list
IF(LENGTH_EXCLUDED GREATER 0)
	LIST (REMOVE_ITEM INCLUDED_SAMPLES ${EXCLUDED_SAMPLES})
ENDIF(LENGTH_EXCLUDED GREATER 0) 

INSTALL (FILES ${INCLUDED_SAMPLES} DESTINATION share/netgen)
